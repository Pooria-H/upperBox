!function(e){e.fn.upperbox=function(t){function n(){"fade"==a.animate?e(s).fadeOut(200):"slide"==a.animate&&e(s).slideUp(200),1==a.destroyElem&&setTimeout(function(){e(s).remove()},200)}var i={elem:'<div class="upperbox" style="display:none"><div class="upperbox-wrapper"><div class="head"><button type="button" class="close"><i></i><i></i></button></div><div class="content"> </div></div></div>',content:"Content...",position:"relative",animate:"slide",class:"",destroyElem:!0,templateID:null},a=e.extend(i,t);if(null==a.templateID)var s=e.parseHTML(a.elem);else var o=a.templateID,l=e("#"+o).html(),s=e.parseHTML(l);return e(s).addClass(a.position+" "+a.animate+" "+a.class),e(s).find(".content").html(a.content),setTimeout(function(){"fade"==a.animate?e(s).fadeIn(200):"slide"==a.animate&&e(s).slideDown(200)},50),e(this).append(s),e(s).find(".close").click(function(){n()}),e(document).ready(function(){e(document).keyup(function(e){27==e.keyCode&&n()})}),this}}(jQuery);